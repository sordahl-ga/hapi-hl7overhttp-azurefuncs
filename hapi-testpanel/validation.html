<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.7.4 at 2017-06-23 
 | Rendered using Apache Maven Fluido Skin 1.6
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="James Agnew" />
    <meta name="Date-Revision-yyyymmdd" content="20170623" />
    <meta http-equiv="Content-Language" content="en" />
    <title>HAPI &#x2013; HAPI TestPanel</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.6.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
      <script type="text/javascript" src="./js/apache-maven-fluido-1.6.min.js"></script>
      </head>
    <body class="topBarDisabled">
      <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><a href="https://hapifhir.github.io/hapi-hl7v2/hapi-testpanel" id="bannerLeft"><img src="images/hapi_testpanel_banner.png"  alt="HAPI TestPanel"/></a></div>
        <div class="pull-right"></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2017-06-23<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 2.3<span class="divider">|</span></li>
        <li class=""><a href="https://hapifhir.github.io/hapi-hl7v2/" class="externalLink" title="HAPI">HAPI</a><span class="divider">/</span></li>
    <li class="active ">HAPI TestPanel</li>
      <li class="pull-right"><span class="divider">|</span>
<a href="http://www.uhn.ca/" class="externalLink" title="University Health Network">University Health Network</a></li>
      <li class="pull-right"><span class="divider">|</span>
<a href="http://hl7.org/" class="externalLink" title="hl7.org">hl7.org</a></li>
      <li class="pull-right"><a href="https://github.com/hapifhir/hapi-hl7v2" class="externalLink" title="GitHub Project Page">GitHub Project Page</a></li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
<ul class="nav nav-list">
          <li class="nav-header">HAPI</li>
    <li><a href="../index.html" title="← HAPI Home"><span class="none"></span>← HAPI Home</a>  </li>
          <li class="nav-header">TestPanel</li>
    <li><a href="index.html" title="Introduction"><span class="none"></span>Introduction</a>  </li>
    <li><a href="install.html" title="Install"><span class="none"></span>Install</a>  </li>
          <li class="nav-header">Documentation</li>
    <li class="active"><a href="#"><span class="none"></span>Message Validation</a>
  </li>
    <li><a href="hl7v2filediff.html" title="Message Diff/Compare"><span class="none"></span>Message Diff/Compare</a>  </li>
          <li class="nav-header">Project Info</li>
    <li><a href="changes-report.html" title="Changelog"><span class="none"></span>Changelog</a>  </li>
  </ul>
          <hr />
          <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
  <a href="http://maven.apache.org" title="Built with Maven 2" class="builtBy"><img class="builtBy"  alt="Built with Maven 2" src="../images/logos/maven-feather.png"    /></a>
              </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >


	

		
		<div class="section">
<h2><a name="Message_Validation"></a>Message Validation</h2>

			<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
			<script type="text/javascript" src="../jquery.magnifier.js"></script>

			
<p>
				By default, TestPanel uses HAPI's built in validation, known as
				<a class="externalLink" href="http://hl7api.sourceforge.net/base/apidocs/ca/uhn/hl7v2/validation/impl/DefaultValidation.html">DefaultValidation</a>
				.
				The validation performs basic data type checks, such as making sure that NM datatype
				fields do not contain text, TS datatype fields contain valid dates, etc.
			</p>
			
			<img src="images/testpanel_defaultvalidation.png" alt="Main Window" class="magnify" style="width:207px; height:144px" align="left" />
			
<p>
				To enable or disable this feature, click on the &quot;Validate&quot; selector, and choose either
				&quot;No Profile/Validation&quot; or &quot;Default HAPI Validation&quot;. When validation is enabled, you will
				see any errors in the column to the left of the value column. You can test this out by
				enabling validation and changing the MSH-7 (Timestamp) value so that it contains
				letters within the timestamp. Hovering over the red &quot;X&quot; will give more information
				about what is wrong. 
				<br /><br /><br />
			</p>
			
			
<div class="section">
<h3><a name="Conformance_Profiles"></a>Conformance Profiles</h3>
				
				
<p>
					TestPanel supports validating messages using HL7 Conformance Profiles. Conformance
					profiles are special XML-based files which constrain the standard HL7 message definitions,
					allowing you to specify maximum field lengths, required cardinalities, etc. 
				</p>
			
				
<p>
					Conformance profiles are generally created using a tool called Message Workbench (MWB),
					which is <a class="externalLink" href="https://sl.infoway-inforoute.ca/content/disppage.asp?cw_page=infostand_hl7can_software_e">available here</a>.
				</p>

				
<p>
					To create a conformance profile, use the MWB tool to create your profile, and then select
					&quot;Export XML Profile&quot; from the File menu to create an XML version which can be loaded into
					TestPanel.
				</p>
				
				
<p>
					In order to try out TestPanel's support, you can download a zipped profile for
					an ADT^A01 message <a href="ADT_A01.zip">here</a>.
				</p>

			</div>

			
<div class="section">
<h3><a name="Creating_a_Profile_Group"></a>Creating a Profile Group</h3>
			
				
<p>
					TestPanel arranges profiles in what it calls a &quot;Profile Group&quot;. A profile group
					is a collection of one or more conformance profiles. Within a profile group,
					each profile is marked as applying to specific message types, so that for instance
					you could create a profile group with one profile for ADT^A01 messages and another
					profile for ORU^R01.
				</p>
				
				
				<img src="images/testpanel_profiles.png" alt="Main Window" class="magnify" style="width:160px; height:144px" align="left" />
				
<p>
					To create a profile group, choose &quot;<i>Profiles and Tables...</i>&quot; from the 
					<i>Conformance</i> menu. This opens the profiles dialog. 
				</p>
				
<ul>
					
<li>
						Click on &quot;<i>New Profile Group</i>&quot; to create a new profile group.
					</li>
					
<li>
						Select the newly created group, and click on &quot;<i>Add Profile</i>&quot; 
						to add a conformance profile to the group. The allows you to select an
						XML based conformance profile, and then assign it to one or more
						message types. 
					</li>
				</ul>

				<br />
								
				
<p>
					<img src="images/testpanel_validatingwithprofile.png" alt="Main Window" class="magnify" style="width:207px; height:144px" align="left" />
					To apply your new profile group to a message (or a collection of messages),
					open the messages in the main message editor, and choose your new profile group
					from the &quot;<i>Validate</i>&quot; picker, near the top right of the window.
				</p>
				
<p>
					If there are any problems with your message, you will now see them highlited. Try
					removing values, or putting in very long values to see new problems. If you 
					can't see any errors, you might want to make sure that your profile group matches
					the message type of the message you are using. (e.g. ADT^A04 vs. ADT^A01)
				</p>

				<br />

			</div>

		</div>

		
<div class="section">
<h2><a name="Tables"></a>Tables</h2>
		
			<img src="images/testpanel_tables.png" alt="Main Window" class="magnify" style="width:160px; height:144px" align="left" />
			
<p>
				TestPanel also allows you to define tables from which coded values are drawn.
				Tables are stored in table files, and a table file contains one ore more tables. 
			</p>
			
<p>
				To create a table file, choose &quot;<i>Profiles and Tables...</i>&quot; from the 
				<i>Conformance</i> menu, and navigate to the <i>Tables</i> tab. Click on
				&quot;<i>Add File</i>&quot; and create a new file.
			</p>
			
<p>
				Now, create a new table. HL7 tables are generally represented by four digits.
				For example, component 1 of a CE such as MSH-3 &quot;Sending Application&quot; is table 0300.
				To create a validation table, add the prefix HL7, as shown in the screenshot.
			</p>
			
<p>
				Once you have created your tables, return to the <i>Profiles</i> tab, and assign
				your table file to the Profile Group by clicking on the word &quot;None&quot; with the small
				circle next to it.
			</p>
			
		</div>

	


        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &copy;2001&#x2013;2017
<a href="http://www.uhn.ca">University Health Network</a>.
All rights reserved.</p>
        </div>
        </div>
    </footer>
    <script type="text/javascript">
                var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
                document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
                </script>
                <script type="text/javascript">
                try {
                var pageTracker = _gat._getTracker("UA-1395874-3");
                pageTracker._trackPageview();
                } catch(err) {}</script>
                </body >
</html>
